<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:replace="fragments :: page_head(${pageTitle} + ' - Crud App', 'none')" />

<body>
<main>

    <div th:replace="navigation :: sidebar_menu"></div>

    <div class="container-fluid">

        <div class="mt-2 mb-4 border-bottom border-black border-3">
            <h4>Manage Users | [[${pageTitle}]]</h4>
        </div>

        <form th:action="@{/user/save}" method="post"  style="max-width: 800px; margin: 0 auto;" th:object="${user}">
            <input type="hidden" th:field="*{id}" />
            <div class="border border-secondary rounded p-3 border-3">
                <div class="row mb-3">
                    <label class="col-sm-3 col-form-label fs-5">First Name:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{firstName}" class="form-control form-control-lg"
                               th:value="${firstName}" required minlength="3" maxlength="128"
                               placeholder="Enter first name">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-sm-3 col-form-label fs-5">Last Name:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{lastName}" class="form-control form-control-lg"
                               th:value="${lastName}" required minlength="3" maxlength="128"
                               placeholder="Enter last name">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-sm-3 col-form-label fs-5">Phone Number:</label>
                    <div class="col-sm-9">
                        <input type="text" th:field="*{phoneNumber}" class="form-control form-control-lg"
                               th:value="${phoneNumber}" required minlength="3" maxlength="128"
                               placeholder="Enter phone number">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-sm-3 col-form-label fs-5">Email Address:</label>
                    <div class="col-sm-9">
                        <input type="email" th:field="*{emailAddress}" class="form-control form-control-lg"
                               th:value="${emailAddress}" required minlength="3" maxlength="128"
                               placeholder="Enter email address">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-sm-3 col-form-label fs-5">Date Of Birth:</label>
                    <div class="col-sm-9">
                        <input type="date" th:field="*{dateOfBirth}" class="form-control form-control-lg"
                               th:value="${dateOfBirth}" required minlength="3" maxlength="128"
                               placeholder="Enter date of birth">
                    </div>
                </div>
                <div class="text-center">
                    <input type="submit" value="Save" class="btn btn-primary m-3" />
                    <input type="button" value="Cancel" class="btn btn-danger" id="buttonCancel" />
                </div>
            </div>
        </form>

    </div>

</main>

<script type="text/javascript">

    let moduleURL = "[[@{/}]]";

    $(document).ready( function () {

        $("#buttonCancel").on("click", function() {
            window.location = moduleURL;
        });

    } );
</script>
</body>
</html>