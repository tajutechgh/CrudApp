<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:replace="fragments :: page_head(${pageTitle} + ' - Crud App', 'none')" />

<body>
    <main>

        <div th:replace="navigation :: sidebar_menu"></div>

        <div class="container-fluid">
            <div class="mt-2 mb-4 border-bottom border-black border-3">
                <h4>[[${pageTitle}]]</h4>
            </div>
            <div class="mb-3">
                <a th:href="@{/user/create}" class="btn btn-primary"><i class="fa-solid fa-user-plus"></i> Add User</a>
            </div>

            <!-- notification -->
            <div th:replace="fragments :: notification" />

            <table id="myTable" class="display stripe hover nowrap">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Date of Birth</th>
                        <th>Phone Number</th>
                        <th>Email Address</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="user : ${listUsers}">
                        <td>[[${user.id}]]</td>
                        <td>[[${user.firstName}]]</td>
                        <td>[[${user.lastName}]]</td>
                        <td>
                            <span th:text="${#dates.format(user.dateOfBirth, 'yyyy-MM-dd')}"></span>
                        </td>
                        <td>[[${user.phoneNumber}]]</td>
                        <td>[[${user.emailAddress}]]</td>
                        <td>
                            <a href="" class="btn btn-success"><i class="fa-solid fa-pen-to-square"></i></a>
                            <a href="" class="btn btn-danger"><i class="fa-solid fa-trash"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </main>

<script type="text/javascript">
    $(document).ready( function () {

        $('#myTable').DataTable();

        $('.toast').each(function () {

              let toast = new bootstrap.Toast(this, { delay: 3000 });

              toast.show();
        });
    } );
</script>
</body>
</html>